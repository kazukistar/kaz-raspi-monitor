<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>GOJA UI Tuner (Single Hex)</title>

  <style>
    :root{
      --bg: #000;
      --card: rgba(18,18,18,.92);
      --stroke: #f2b100;
      --stroke2: rgba(242,177,0,.55);
      --text: #f2b100;
      --muted: rgba(242,177,0,.75);

      /* 縦位置(px) */
      --y-title: 0px;
      --y-value: 0px;
      --y-dash:  0px;
      --y-status:0px;

      /* 文字サイズ(px) */
      --fs-title: 22px;
      --fs-value: 96px;
      --fs-unit:  20px;
      --fs-status:16px;

      /* 点線長さ(%) */
      --dash-w: 62%;
    }

    html,body{
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: #fff;
    }

    body{
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding: 18px 14px 280px;
      box-sizing: border-box;
    }

    .wrap{ width: min(520px, 100%); }

    .card{
      width: 100%;
      border-radius: 22px;
      background: var(--card);
      box-shadow: 0 10px 40px rgba(0,0,0,.6);
      padding: 18px 14px;
      box-sizing: border-box;
    }

    /* 正六角形比率 (W:H = 2:√3) */
    .hexStage{
      position: relative;
      width: 100%;
      aspect-ratio: 1.1547005 / 1;
      max-height: 360px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    svg.hex{ width: 100%; height: 100%; display:block; }
    .hexOuter{ stroke: var(--stroke); stroke-width: 3.6; fill: none; }
    .hexInner{ stroke: var(--stroke2); stroke-width: 2.2; fill: none; }

    .overlay{
      position:absolute;
      inset: 0;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      pointer-events:none;
    }

    .metric-title{
      transform: translateY(var(--y-title));
      font-family: "Hiragino Mincho ProN","Yu Mincho","Noto Serif JP","Times New Roman",serif;
      font-weight: 800;
      letter-spacing: .06em;
      font-size: var(--fs-title);
      color: var(--text);
      text-shadow: 0 0 18px rgba(242,177,0,.12);
      margin-bottom: 10px;
    }

    .metric-value{
      transform: translateY(var(--y-value));
      display:flex;
      align-items:baseline;
      gap: 10px;
      color: var(--text);
      text-shadow: 0 0 26px rgba(242,177,0,.14);
      margin: 0;
    }

    .metric-value .val{
      font-family: "DS-Digital","Digital-7","Orbitron","Share Tech Mono",ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-weight: 700;
      font-size: var(--fs-value);
      line-height: 1;
    }

    .metric-value .unit{
      font-family: "DS-Digital","Digital-7","Orbitron","Share Tech Mono",ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-weight: 600;
      font-size: var(--fs-unit);
      opacity: .7;
      transform: translateY(6px);
    }

    .metric-dash{
      transform: translateY(var(--y-dash));
      width: var(--dash-w);
      border-bottom: 3px dashed rgba(242,177,0,.45);
      margin-top: 16px;
      margin-bottom: 14px;
    }

    .metric-status{
      transform: translateY(var(--y-status));
      font-family: "Hiragino Mincho ProN","Yu Mincho","Noto Serif JP","Times New Roman",serif;
      font-weight: 800;
      letter-spacing: .08em;
      font-size: var(--fs-status);
      color: var(--muted);
      margin-top: 4px;
    }

    /* tuner */
    #tuner{
      position: fixed;
      left: 10px; right: 10px; bottom: 10px;
      background: rgba(0,0,0,.86);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 16px;
      padding: 12px;
      z-index: 9999;
      color: #fff;
      font-family: system-ui, -apple-system, sans-serif;
      backdrop-filter: blur(8px);
    }
    #tuner.hidden{ display:none; }

    .tunerHead{
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom: 8px;
      font-size: 13px;
    }

    #tuner label{
      display:block;
      margin: 10px 0;
      font-size: 12px;
      opacity: .95;
    }

    #tuner input[type="range"]{ width: 100%; margin-top: 6px; }

    .tunerHead button, .tunerBtns button{
      border: 1px solid rgba(255,255,255,.2);
      background: rgba(255,255,255,.08);
      color:#fff;
      padding: 8px 10px;
      border-radius: 12px;
      font-size: 12px;
    }

    .tunerBtns{
      display:flex; gap:10px;
      margin-top: 10px;
    }
    .tunerBtns button{ flex:1; }

    /* 追加：あなたのメモ欄（分かりやすい位置＝一番上） */
    .memoBox{
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 12px;
      padding: 10px;
      background: rgba(255,255,255,.04);
      margin-bottom: 10px;
    }
    .memoBox .memoTitle{
      font-size: 12px;
      opacity: .95;
      margin-bottom: 6px;
    }
    .memoBox textarea{
      width: 100%;
      box-sizing: border-box;
      min-height: 54px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      color: #fff;
      padding: 8px 10px;
      font-size: 12px;
      line-height: 1.35;
      outline: none;
    }
    .memoBox .hint{
      margin-top: 6px;
      font-size: 11px;
      opacity: .7;
    }

    @supports(padding: max(0px)){
      #tuner{ bottom: max(10px, env(safe-area-inset-bottom)); }
      body{ padding-bottom: calc(280px + env(safe-area-inset-bottom)); }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="hexStage">
        <svg class="hex" viewBox="0 0 200 173.205" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
          <polygon class="hexOuter"
            points="200,86.602 150,173.205 50,173.205 0,86.602 50,0 150,0"></polygon>
          <polygon class="hexInner"
            points="182,86.602 141,157.660 59,157.660 18,86.602 59,15.545 141,15.545"></polygon>
        </svg>

        <div class="overlay">
          <div class="metric-title">メモリ稼働率</div>
          <div class="metric-value">
            <span class="val">60</span>
            <span class="unit">%</span>
          </div>
          <div class="metric-dash"></div>
          <div class="metric-status">稼働状態：通常</div>
        </div>
      </div>
    </div>
  </div>

  <div id="tuner">
    <div class="tunerHead">
      <div>位置調整（縦）＋サイズ＋点線</div>
      <button id="tunerToggle" type="button">HIDE</button>
    </div>

    <!-- ★追加：あなた→俺に渡す言葉（常に上で見える） -->
    <div class="memoBox">
      <div class="memoTitle">あなたが俺に伝えるメモ（そのまま貼ってOK）</div>
      <textarea id="memo" placeholder="例）題目はもう少し下、数字はもう少し大きく、点線は短く… みたいな指示を書いてCOPYでまとめて送って。"></textarea>
      <div class="hint">COPYで「メモ＋各スライダー値」が一括でコピーされる。</div>
    </div>

    <!-- ===== Y sliders ===== -->
    <label>題目Y <span id="vTitleY">0</span>px
      <input id="sTitleY" type="range" min="-140" max="140" value="0">
    </label>

    <label>数字Y <span id="vValueY">0</span>px
      <input id="sValueY" type="range" min="-180" max="180" value="0">
    </label>

    <label>点線Y <span id="vDashY">0</span>px
      <input id="sDashY" type="range" min="-180" max="180" value="0">
    </label>

    <label>稼働状態Y <span id="vStatusY">0</span>px
      <input id="sStatusY" type="range" min="-180" max="180" value="0">
    </label>

    <!-- ===== Size sliders ===== -->
    <label>題目サイズ <span id="vTitleFS">22</span>px
      <input id="sTitleFS" type="range" min="12" max="44" value="22">
    </label>

    <label>数字サイズ <span id="vValueFS">96</span>px
      <input id="sValueFS" type="range" min="36" max="140" value="96">
    </label>

    <label>単位サイズ <span id="vUnitFS">20</span>px
      <input id="sUnitFS" type="range" min="10" max="40" value="20">
    </label>

    <label>稼働状態サイズ <span id="vStatusFS">16</span>px
      <input id="sStatusFS" type="range" min="10" max="32" value="16">
    </label>

    <!-- ===== Dash length ===== -->
    <label>点線の長さ <span id="vDashW">62</span>%
      <input id="sDashW" type="range" min="20" max="95" value="62">
    </label>

    <div class="tunerBtns">
      <button id="copyBtn" type="button">COPY</button>
      <button id="resetBtn" type="button">RESET</button>
    </div>
  </div>

  <script>
    const root = document.documentElement;

    // sliders
    const sTitleY  = document.getElementById('sTitleY');
    const sValueY  = document.getElementById('sValueY');
    const sDashY   = document.getElementById('sDashY');
    const sStatusY = document.getElementById('sStatusY');

    const sTitleFS  = document.getElementById('sTitleFS');
    const sValueFS  = document.getElementById('sValueFS');
    const sUnitFS   = document.getElementById('sUnitFS');
    const sStatusFS = document.getElementById('sStatusFS');

    const sDashW = document.getElementById('sDashW');

    // value labels
    const vTitleY  = document.getElementById('vTitleY');
    const vValueY  = document.getElementById('vValueY');
    const vDashY   = document.getElementById('vDashY');
    const vStatusY = document.getElementById('vStatusY');

    const vTitleFS  = document.getElementById('vTitleFS');
    const vValueFS  = document.getElementById('vValueFS');
    const vUnitFS   = document.getElementById('vUnitFS');
    const vStatusFS = document.getElementById('vStatusFS');

    const vDashW = document.getElementById('vDashW');

    const memo = document.getElementById('memo');

    function apply(){
      root.style.setProperty('--y-title',  sTitleY.value  + 'px');
      root.style.setProperty('--y-value',  sValueY.value  + 'px');
      root.style.setProperty('--y-dash',   sDashY.value   + 'px');
      root.style.setProperty('--y-status', sStatusY.value + 'px');

      root.style.setProperty('--fs-title',  sTitleFS.value  + 'px');
      root.style.setProperty('--fs-value',  sValueFS.value  + 'px');
      root.style.setProperty('--fs-unit',   sUnitFS.value   + 'px');
      root.style.setProperty('--fs-status', sStatusFS.value + 'px');

      root.style.setProperty('--dash-w', sDashW.value + '%');

      vTitleY.textContent  = sTitleY.value;
      vValueY.textContent  = sValueY.value;
      vDashY.textContent   = sDashY.value;
      vStatusY.textContent = sStatusY.value;

      vTitleFS.textContent  = sTitleFS.value;
      vValueFS.textContent  = sValueFS.value;
      vUnitFS.textContent   = sUnitFS.value;
      vStatusFS.textContent = sStatusFS.value;

      vDashW.textContent = sDashW.value;
    }

    [
      sTitleY,sValueY,sDashY,sStatusY,
      sTitleFS,sValueFS,sUnitFS,sStatusFS,
      sDashW
    ].forEach(el => el.addEventListener('input', apply));

    apply();

    // toggle
    const tuner = document.getElementById('tuner');
    const toggleBtn = document.getElementById('tunerToggle');
    toggleBtn.addEventListener('click', ()=>{
      tuner.classList.toggle('hidden');
    });

    // copy
    document.getElementById('copyBtn').addEventListener('click', async ()=>{
      const out =
`【GOJA UI 調整値】
メモ:
${memo.value.trim() || "(空)"}

Y(px)
- 題目Y: ${sTitleY.value}
- 数字Y: ${sValueY.value}
- 点線Y: ${sDashY.value}
- 稼働状態Y: ${sStatusY.value}

SIZE(px)
- 題目: ${sTitleFS.value}
- 数字: ${sValueFS.value}
- 単位: ${sUnitFS.value}
- 稼働状態: ${sStatusFS.value}

DASH(%)
- 点線長さ: ${sDashW.value}

（このまま俺に貼れ）`;

      try{
        await navigator.clipboard.writeText(out);
        alert("コピーした。俺に貼れ。");
      }catch(e){
        // fallback
        const ta = document.createElement('textarea');
        ta.value = out;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        ta.remove();
        alert("コピーした（fallback）。俺に貼れ。");
      }
    });

    // reset
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      sTitleY.value=0; sValueY.value=0; sDashY.value=0; sStatusY.value=0;
      sTitleFS.value=22; sValueFS.value=96; sUnitFS.value=20; sStatusFS.value=16;
      sDashW.value=62;
      memo.value="";
      apply();
    });
  </script>
</body>
</html>